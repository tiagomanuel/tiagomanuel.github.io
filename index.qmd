---
title: "Itinerário"
format:
  html:
    theme: cosmo
    toc: false
    page-layout: full
include-in-header:
  text: |
    <meta name="viewport" content="width=device-width, initial-scale=1">
---


```{=html}

<link rel="stylesheet" href="styles.css">

<header class="tp-header">
  <div class="tp-header-left">
    <h1 class="tp-title">Smilling Thai Itinerary</h1>
    <div class="tp-sub">
      <span class="label">Dia selecionado:</span>
      <span id="current-day" class="badge bg-primary">—</span>
      <span class="label">Janela da viagem:</span>
      <span id="trip-range" class="badge bg-secondary">—</span>
    </div>
  </div>
  <div class="tp-header-right">
    <div class="btn-group" role="group">
      <button id="btn-prev" class="btn btn-outline-primary">◀ Dia anterior</button>
      <button id="btn-next" class="btn btn-outline-primary">Dia seguinte ▶</button>
    </div>
    <div class="form-check form-switch mx-3">
      <input class="form-check-input" type="checkbox" id="sw-all-days">
      <label class="form-check-label" for="sw-all-days">Mostrar todos os dias</label>
    </div>
    <div class="form-check form-switch">
      <input class="form-check-input" type="checkbox" id="sw-map-filter" checked>
      <label class="form-check-label" for="sw-map-filter">Aplicar filtros ao mapa</label>
    </div>
  </div>
</header>

<div class="tp-container">
  <!-- Coluna ESQUERDA -->
  <div class="tp-left">
    <div id="map"></div>
    <div id="legend" class="tp-legend"></div>

    <!-- Filtros movidos para baixo do mapa -->
    <div class="tp-controls mt-3">
      <div class="row g-2 align-items-end">
        <div class="col-12 col-lg-4">
          <label for="flt-day" class="form-label">Dia</label>
          <input id="flt-day" type="date" class="form-control" />
        </div>
        <div class="col-12 col-lg-4">
          <label for="flt-type" class="form-label">Tipo</label>
          <div class="d-flex gap-2">
            <select id="flt-type" class="form-select" multiple>
              <option value="Hotel">Hotel</option>
              <option value="Atração">Atração</option>
              <option value="Aeroporto">Aeroporto</option>
              <option value="Voo">Voo</option>
              <option value="Restaurante">Restaurante</option>
              <option value="Transporte">Transporte</option>
              <option value="Sugestao">Sugestão</option>
            </select>
            <div class="btn-group-vertical">
              <button id="btn-types-all" class="btn btn-sm btn-outline-secondary">Todos</button>
              <button id="btn-types-none" class="btn btn-sm btn-outline-secondary">Nenhum</button>
            </div>
          </div>
        </div>
        <div class="col-12 col-lg-4">
          <label for="flt-area" class="form-label">Área</label>
          <select id="flt-area" class="form-select">
            <option value="">Todas</option>
          </select>
        </div>

        <!-- Fuzzy Finder -->
        <div class="col-12">
          <label class="form-label">Pesquisar (título / notas / código de voo)</label>
          <div class="tp-search">
            <input id="flt-q" type="search" class="form-control" placeholder="ex.: 'Wat', 'PG123', 'check-in'…"/>
            <div id="search-results" class="tp-search-results" hidden></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Coluna DIREITA -->
  <div class="tp-right">
    <div id="highlights" class="tp-highlights"></div>
    <div id="agenda" class="tp-agenda"></div>

    <!-- Relógio + Conversão -->
    <div class="tp-tools mt-3">
      <div class="tp-clock card mb-2">
        <div><strong>Agora</strong></div>
        <div id="clock-lx">Lisboa: —</div>
        <div id="clock-bkk">Bangkok: —</div>
        <small>Nota: horários da agenda consideram fuso do destino.</small>
      </div>
      <div class="tp-currency card">
        <div class="row g-2 align-items-end">
          <div class="col-6">
            <label class="form-label">THB</label>
            <input id="cc-thb" type="number" class="form-control" placeholder="1000">
          </div>
          <div class="col-6">
            <label class="form-label">EUR</label>
            <input id="cc-eur" type="number" class="form-control" placeholder="25">
          </div>
          <div class="col-12 d-flex gap-2">
            <button id="cc-thb-eur" class="btn btn-sm btn-primary">THB → EUR</button>
            <button id="cc-eur-thb" class="btn btn-sm btn-outline-primary">EUR → THB</button>
            <small id="cc-rate" class="text-muted ms-auto">taxa: —</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script type="module" src="app.js"></script>

```

